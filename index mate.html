<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Skillify - Aprende y Progresa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-image: url('https://i.pinimg.com/1200x/c5/d9/f6/c5d9f631af960550eb8cae7f83f64d31.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    padding: 7590 Ã— 379 px;
    background-attachment: fixed;
    background-blend-mode: darken;
    background-color: #0000006e;
        }
        .btn-primary {
            background: linear-gradient(to right, #080808, #fffcf8);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        .btn-secondary {
            background: linear-gradient(to right, #6B7280, #4B5563);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        .card {
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border-radius: 1rem;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .option-btn {
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .option-btn:hover {
            transform: scale(1.02);
            background-color: #E5E7EB;
        }
        .progress-bar {
            height: 10px;
            background: #D1D5DB;
            border-radius: 5px;
        }
        .progress {
            height: 100%;
            background: #F59E0B;
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        .question-item {
            border: 1px solid #F59E0B;
            background-color: #FFFFFF;
            padding: 1rem;
            border-radius: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        input, select {
            background-color: #FFFFFF;
            border: 1px solid #D1D5DB;
        }
        input:focus, select:focus {
            border-color: #F59E0B;
            ring: 2px #F59E0B;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-6">
    <div class="card p-8 w-full max-w-3xl rounded-2xl">
        <h1 class="text-4xl font-bold text-center text-gray-900 mb-8">Quiz Skillify</h1>
        <div class="w-full mb-6">
            <div class="text-sm text-gray-600 mb-1">Progreso: <span id="xp">0 XP</span></div>
            <div class="progress-bar">
                <div id="progress" class="progress" style="width: 0%"></div>
            </div>
        </div>
        <div class="flex justify-center space-x-6 mb-8">
            <button id="show-quiz-btn" class="btn-primary text-white py-3 px-6 rounded-xl font-semibold">Jugar Quiz</button>
            <button id="show-manage-btn" class="btn-secondary text-white py-3 px-6 rounded-xl font-semibold">Gestionar Preguntas</button>
        </div>
        <div id="quiz-container">
            <h2 id="question" class="text-2xl font-semibold text-gray-900 mb-6"></h2>
            <div id="options" class="space-y-3"></div>
            <div id="feedback" class="mt-6 text-center text-lg"></div>
            <button id="next-btn" class="mt-8 w-full btn-primary text-white py-3 rounded-xl font-semibold hidden">Siguiente</button>
        </div>
        <div id="score-container" class="hidden mt-8 text-center">
            <h2 class="text-3xl font-bold text-gray-900">Â¡Quiz Completado!</h2>
            <p id="final-score" class="text-xl text-gray-700 mt-4"></p>
            <p id="reward" class="text-lg text-gray-600 mt-2">Â¡Ganaste 0 XP y 0 estrellas! ðŸŽ‰</p>
            <button id="restart-btn" class="mt-6 btn-primary text-white py-3 px-6 rounded-xl font-semibold">Reiniciar Quiz</button>
        </div>
        <div id="manage-container" class="hidden">
            <h2 class="text-3xl font-bold text-center text-gray-900 mb-6">Gestionar Preguntas</h2>
            <div id="question-form" class="space-y-5">
                <div>
                    <label for="form-question" class="block text-lg font-medium text-gray-700">Pregunta:</label>
                    <input type="text" id="form-question" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" placeholder="Escribe tu pregunta aquÃ­" required>
                </div>
                <div>
                    <label for="form-option1" class="block text-lg font-medium text-gray-700">OpciÃ³n 1:</label>
                    <input type="text" id="form-option1" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" placeholder="OpciÃ³n 1" required>
                </div>
                <div>
                    <label for="form-option2" class="block text-lg font-medium text-gray-700">OpciÃ³n 2:</label>
                    <input type="text" id="form-option2" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" placeholder="OpciÃ³n 2" required>
                </div>
                <div>
                    <label for="form-option3" class="block text-lg font-medium text-gray-700">OpciÃ³n 3:</label>
                    <input type="text" id="form-option3" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" placeholder="OpciÃ³n 3" required>
                </div>
                <div>
                    <label for="form-option4" class="block text-lg font-medium text-gray-700">OpciÃ³n 4:</label>
                    <input type="text" id="form-option4" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" placeholder="OpciÃ³n 4" required>
                </div>
                <div>
                    <label for="form-correct" class="block text-lg font-medium text-gray-700">Respuesta Correcta:</label>
                    <select id="form-correct" class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-orange-500" required>
                        <option value="">Selecciona la respuesta correcta</option>
                        <option value="0">OpciÃ³n 1</option>
                        <option value="1">OpciÃ³n 2</option>
                        <option value="2">OpciÃ³n 3</option>
                        <option value="3">OpciÃ³n 4</option>
                    </select>
                </div>
                <div class="flex space-x-4">
                    <button id="save-question-btn" class="w-full btn-primary text-white py-3 rounded-xl font-semibold">Guardar Pregunta</button>
                    <button id="cancel-edit-btn" class="hidden w-full btn-secondary text-white py-3 rounded-xl font-semibold">Cancelar EdiciÃ³n</button>
                </div>
                <div id="form-feedback" class="mt-4 text-center text-lg"></div>
            </div>
            <div id="question-list" class="mt-8 space-y-4"></div>
        </div>
    </div>
    <script>
        const defaultQuestions = [
            {
                question: "Una tienda ofrece un descuento del 20% sobre un artÃ­culo que cuesta $25000. Â¿CuÃ¡l es el precio final que debe pagar el cliente?",
                options: ["$20000", "$22000", "$23500", "$25000"],
                correct: "$20000",
                isDefault: true
            },
            {
                question: "Resuelve la ecuaciÃ³n: 3(x-2)+5=2x+7. Â¿CuÃ¡l es el valor de x?",
                options: ["0", "4", "-4", "2"],
                correct: "4",
                isDefault: true
            },
            {
                question: "Si f(x)=2x-3, Â¿quÃ© valor de x hace que f(x)=7?",
                options: ["2", "5", "-2", "7"],
                correct: "5",
                isDefault: true
            },
            {
                question: "Un triÃ¡ngulo tiene lados de 6 cm, 8 cm y 10 cm. Â¿QuÃ© tipo de triÃ¡ngulo es?",
                options: ["EquilÃ¡tero", "Escaleno", "IsÃ³sceles", "RectÃ¡ngulo"],
                correct: "Escaleno",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el Ã¡rea de un cÃ­rculo con radio 7 cm? (Usa Ï€ â‰ˆ 3.14)",
                options: ["44 cmÂ²", "153.86 cmÂ²", "49 cmÂ²", "100 cmÂ²"],
                correct: "153.86 cmÂ²",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el volumen de un cubo con lado de 5 cm?",
                options: ["125 cmÂ³", "25 cmÂ³", "15 cmÂ³", "100 cmÂ³"],
                correct: "125 cmÂ³",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es la mediana del conjunto de nÃºmeros: 1, 3, 7, 9, 11?",
                options: ["3", "7", "9", "11"],
                correct: "7",
                isDefault: true
            },
            {
                question: "La media aritmÃ©tica de los nÃºmeros 2, 4, 6, 8 y 10 es:",
                options: ["5", "6", "7", "8"],
                correct: "6",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es la probabilidad de obtener un nÃºmero mÃºltiplo de 3 al lanzar un dado justo?",
                options: ["1/6", "1/3", "1/2", "2/3"],
                correct: "1/3",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el resultado de la expresiÃ³n: (5!) / (3!)? (Recordando que 5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1)",
                options: ["20", "10", "60", "120"],
                correct: "20",
                isDefault: true
            },
            {
                question: "La grÃ¡fica de y = 3x + 2 es una lÃ­nea recta. Â¿CuÃ¡l es su pendiente?",
                options: ["2", "3", "-3", "-2"],
                correct: "3",
                isDefault: true
            },
            {
                question: "Si un rectÃ¡ngulo tiene un perÃ­metro de 24 cm y un largo de 7 cm, Â¿cuÃ¡l es su ancho?",
                options: ["5 cm", "6 cm", "10 cm", "12 cm"],
                correct: "5 cm",
                isDefault: true
            },
            {
                question: "Convierte el nÃºmero decimal 0.75 a fracciÃ³n en su forma mÃ¡s simple.",
                options: ["3/4", "1/2", "7/10", "2/3"],
                correct: "3/4",
                isDefault: true
            },
            {
                question: "En la secuencia 2, 5, 8, 11, ..., Â¿cuÃ¡l es el dÃ©cimo tÃ©rmino?",
                options: ["29", "32", "35", "38"],
                correct: "35",
                isDefault: true
            },
            {
                question: "Si el Ã¡ngulo A mide 40Â° y el Ã¡ngulo B mide 70Â°, Â¿cuÃ¡nto mide el Ã¡ngulo C en un triÃ¡ngulo donde A+B+C=180Â°?",
                options: ["50Â°", "60Â°", "70Â°", "80Â°"],
                correct: "70Â°",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el Ã¡rea de un triÃ¡ngulo con base 10 cm y altura 6 cm?",
                options: ["16 cmÂ²", "30 cmÂ²", "60 cmÂ²", "20 cmÂ²"],
                correct: "30 cmÂ²",
                isDefault: true
            },
            {
                question: "Â¿QuÃ© tipo de nÃºmero es âˆš25?",
                options: ["Irracional", "Entero", "Racional", "Imaginario"],
                correct: "Entero",
                isDefault: true
            },
            {
                question: "Resuelve para x en la ecuaciÃ³n: 4x-7=2x+5.",
                options: ["6", "-6", "1", "-1"],
                correct: "6",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el resultado de sumar los Ã¡ngulos internos de un cuadrilÃ¡tero?",
                options: ["180Â°", "360Â°", "540Â°", "720Â°"],
                correct: "360Â°",
                isDefault: true
            },
            {
                question: "Â¿CuÃ¡l es el valor de x que satisface la desigualdad: 3x+4<10?",
                options: ["x<2", "x>2", "x<-2", "x>-2"],
                correct: "x<2",
                isDefault: true
            }
        ];
        let quizData = [...defaultQuestions];
        const storedQuestions = localStorage.getItem('customQuestions');
        if (storedQuestions) {
            quizData = [...quizData, ...JSON.parse(storedQuestions)];
        }
        let currentQuestion = 0;
        let score = 0;
        let xp = 0;
        let editingIndex = null;
        const showQuizBtn = document.getElementById('show-quiz-btn');
        const showManageBtn = document.getElementById('show-manage-btn');
        const quizContainer = document.getElementById('quiz-container');
        const scoreContainer = document.getElementById('score-container');
        const manageContainer = document.getElementById('manage-container');
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const finalScoreEl = document.getElementById('final-score');
        const restartBtn = document.getElementById('restart-btn');
        const questionForm = document.getElementById('question-form');
        const formQuestion = document.getElementById('form-question');
        const formOption1 = document.getElementById('form-option1');
        const formOption2 = document.getElementById('form-option2');
        const formOption3 = document.getElementById('form-option3');
        const formOption4 = document.getElementById('form-option4');
        const formCorrect = document.getElementById('form-correct');
        const saveQuestionBtn = document.getElementById('save-question-btn');
        const cancelEditBtn = document.getElementById('cancel-edit-btn');
        const formFeedback = document.getElementById('form-feedback');
        const questionList = document.getElementById('question-list');
        const progressEl = document.getElementById('progress');
        const xpEl = document.getElementById('xp');
        const rewardEl = document.getElementById('reward');
        function loadQuestion() {
            if (quizData.length === 0) {
                questionEl.textContent = 'No hay preguntas disponibles.';
                optionsEl.innerHTML = '';
                nextBtn.classList.add('hidden');
                return;
            }
            const currentQuiz = quizData[currentQuestion];
            questionEl.textContent = currentQuiz.question;
            optionsEl.innerHTML = '';
            currentQuiz.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn', 'w-full', 'bg-white', 'p-3', 'rounded-xl', 'text-gray-900', 'font-medium', 'border', 'border-gray-300', 'hover:bg-gray-100', 'transition', 'duration-200');
                button.addEventListener('click', () => selectOption(option));
                optionsEl.appendChild(button);
            });
            feedbackEl.textContent = '';
            nextBtn.classList.add('hidden');
        }
        function selectOption(selected) {
            const currentQuiz = quizData[currentQuestion];
            if (selected === currentQuiz.correct) {
                feedbackEl.textContent = 'Â¡Correcto! Â¡Sigue asÃ­! ðŸŽ‰';
                feedbackEl.classList.add('text-green-600');
                score++;
                xp += 10;
                updateProgress();
            } else {
                feedbackEl.textContent = `Incorrecto. La respuesta correcta es: ${currentQuiz.correct}. Â¡IntÃ©ntalo de nuevo!`;
                feedbackEl.classList.add('text-red-600');
            }
            optionsEl.querySelectorAll('button').forEach(button => {
                button.disabled = true;
                if (button.textContent === currentQuiz.correct) {
                    button.classList.add('bg-green-100', 'border-green-500');
                } else if (button.textContent === selected && selected !== currentQuiz.correct) {
                    button.classList.add('bg-red-100', 'border-red-500');
                }
            });
            nextBtn.classList.remove('hidden');
        }
        function updateProgress() {
            const maxXP = quizData.length * 10;
            const progress = (xp / maxXP) * 100;
            progressEl.style.width = `${Math.min(progress, 100)}%`;
            xpEl.textContent = `${xp} XP`;
        }
        function showResults() {
            quizContainer.classList.add('hidden');
            scoreContainer.classList.remove('hidden');
            finalScoreEl.textContent = `Tu puntuaciÃ³n: ${score} de ${quizData.length}`;
            const stars = Math.floor(xp / 10);
            rewardEl.textContent = `Â¡Ganaste ${xp} XP y ${stars} estrellas! ðŸŽ‰`;
        }
        function loadQuestionList() {
            questionList.innerHTML = '';
            quizData.forEach((q, index) => {
                const div = document.createElement('div');
                div.classList.add('question-item');
                div.innerHTML = `
                    <span class="text-gray-700">${q.question}</span>
                    <div class="space-x-2">
                        <button class="edit-btn bg-yellow-500 text-white py-2 px-4 rounded-xl hover:bg-yellow-600" data-index="${index}">Editar</button>
                        ${!q.isDefault ? `<button class="delete-btn bg-red-500 text-white py-2 px-4 rounded-xl hover:bg-red-600" data-index="${index}">Eliminar</button>` : ''}
                    </div>
                `;
                questionList.appendChild(div);
            });
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', () => editQuestion(parseInt(btn.dataset.index)));
            });
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', () => deleteQuestion(parseInt(btn.dataset.index)));
            });
        }
        function editQuestion(index) {
            editingIndex = index;
            const q = quizData[index];
            formQuestion.value = q.question;
            formOption1.value = q.options[0];
            formOption2.value = q.options[1];
            formOption3.value = q.options[2];
            formOption4.value = q.options[3];
            formCorrect.value = q.options.indexOf(q.correct);
            saveQuestionBtn.textContent = 'Actualizar Pregunta';
            cancelEditBtn.classList.remove('hidden');
            formFeedback.textContent = '';
        }
        function deleteQuestion(index) {
            if (quizData[index].isDefault) return;
            quizData.splice(index, 1);
            updateLocalStorage();
            loadQuestionList();
            formFeedback.textContent = 'Pregunta eliminada con Ã©xito.';
            formFeedback.classList.add('text-green-600');
        }
        function saveQuestion() {
            const question = formQuestion.value.trim();
            const options = [
                formOption1.value.trim(),
                formOption2.value.trim(),
                formOption3.value.trim(),
                formOption4.value.trim()
            ];
            const correctIndex = parseInt(formCorrect.value);
            if (!question || options.some(opt => !opt) || isNaN(correctIndex)) {
                formFeedback.textContent = 'Por favor, completa todos los campos y selecciona una respuesta correcta.';
                formFeedback.classList.add('text-red-600');
                return;
            }
            const newQuestion = {
                question,
                options,
                correct: options[correctIndex],
                isDefault: false
            };
            if (editingIndex !== null) {
                if (quizData[editingIndex].isDefault) {
                    quizData.push(newQuestion);
                } else {
                    quizData[editingIndex] = newQuestion;
                }
                editingIndex = null;
                saveQuestionBtn.textContent = 'Guardar Pregunta';
                cancelEditBtn.classList.add('hidden');
            } else {
                quizData.push(newQuestion);
            }
            updateLocalStorage();
            loadQuestionList();
            formFeedback.textContent = 'Pregunta guardada con Ã©xito.';
            formFeedback.classList.add('text-green-600');
            formQuestion.value = '';
            formOption1.value = '';
            formOption2.value = '';
            formOption3.value = '';
            formOption4.value = '';
            formCorrect.value = '';
        }
        function updateLocalStorage() {
            const customQuestions = quizData.filter(q => !q.isDefault);
            localStorage.setItem('customQuestions', JSON.stringify(customQuestions));
        }
        showQuizBtn.addEventListener('click', () => {
            quizContainer.classList.remove('hidden');
            scoreContainer.classList.add('hidden');
            manageContainer.classList.add('hidden');
            loadQuestion();
        });
        showManageBtn.addEventListener('click', () => {
            quizContainer.classList.add('hidden');
            scoreContainer.classList.add('hidden');
            manageContainer.classList.remove('hidden');
            loadQuestionList();
        });
        nextBtn.addEventListener('click', () => {
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });
        restartBtn.addEventListener('click', () => {
            currentQuestion = 0;
            score = 0;
            xp = 0;
            quizContainer.classList.remove('hidden');
            scoreContainer.classList.add('hidden');
            updateProgress();
            loadQuestion();
        });
        saveQuestionBtn.addEventListener('click', saveQuestion);
        cancelEditBtn.addEventListener('click', () => {
            editingIndex = null;
            saveQuestionBtn.textContent = 'Guardar Pregunta';
            cancelEditBtn.classList.add('hidden');
            formQuestion.value = '';
            formOption1.value = '';
            formOption2.value = '';
            formOption3.value = '';
            formOption4.value = '';
            formCorrect.value = '';
            formFeedback.textContent = '';
        });
        loadQuestion();
    </script>
</body>
</html>